@use '../helpers/' as *;

// -------------------------HEADER------------------------

.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    padding-block: fluid(22, 14);
    z-index: 20;
    animation-name: scroll-header;
    animation-fill-mode: both;
    animation-timeline: scroll();
    animation-range: rem(10) rem(600);
    @include mobile-above {
        @keyframes scroll-header {
            to {
                box-shadow: 0 0 3rem 0 var(--color-gray-60);
                background-color: var(--color-black-08);
            }
        }
    }
    @include mobile {
        background-color: var(--color-black-08);
    }

    &__inner {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: rem(20);
    }
    
    .menu {

        @include mobile {
            position: fixed;
            top: -100%;
            left: 0;
            width: 100vw;
            height: 100svh;
            background-color: var(--color-black-08);
            padding: rem(80) rem(20) rem(20) rem(20);
            z-index: 2;
            pointer-events: none;
            transition: top var(--transition);
            &.is-open {
                top: 0;
                pointer-events: auto;
            }
        }

        &__list {
            display: flex;
            align-items: center;
            column-gap: rem(30);
            padding: rem(10);
            border: var(--border);
            border-radius: rem(12);
            background-color: var(--color-black-06);

            @include laptop {
                column-gap: rem(16);
                font-size: rem(14);
                padding: rem(8);
            }

            @include mobile {
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100%;
            padding: rem(80) rem(20) rem(80) rem(20);
            row-gap: rem(30);
            // transition: opacity 0.3s ease;
            font-size: rem(20);
        }
        }
    
        &__link {
            padding: rem(14) rem(24);
            border-radius: rem(8);
            color: var(--color-gray-75);
            border: rem(1) solid transparent;

            @include laptop {
                padding: rem(12) rem(20);
            }
            @include tablet {
                padding: rem(10) rem(16);
            }

            @include hover {
                color: var(--color-white);
                border: rem(1) solid var(--color-black-10);
            }

            &.is-active {
                color: var(--color-white);
                background-color: var(--color-black-10);
                border: rem(1) solid var(--color-black-10);
            }
        }
    }
    
    .actions-header {
        display: flex;
        align-items: center;
        column-gap: rem(30);

        &__search {
            @include laptop {
                width: rem(24);
                height: rem(24);
            }
        }
        &__favorite {
            @include laptop {
                width: rem(24);
                height: rem(24);
            }
        }
    }
}

// -------------------------LOGO--------------------------

.logo {
    position: relative;
    z-index: 20;

    @include laptop {
        width: rem(165);
        height: rem(50);
    }

    @include tablet {
        width: rem(116);
        height: rem(35);
    }

    &__img {
        width: 100%;
        height: 100%;
    }
}

// ------------------------BURGER-MENU--------------------

.burger-menu {
    position: relative;
    z-index: 4;
    flex-shrink: 0;
    width: rem(48);
    height: rem(48);
    border: var(--border);
    border-radius: rem(6);
    background-color: var(--color-black-10);

    span,
    &::before,
    &::after {
        content: '';
        transition: all 0.5s;
        position: absolute;
        border-radius: rem(2);
        height: rem(1.5);
        width: rem(18);
        right: 50%;
        transform: translateX(50%);
        background-color: var(--color-white);
    }
    span {
        top: 50%;
        transform: translate(50%, -50%);
    }
    &::before {
        top: rem(18);
    }
    &::after {
        right: rem(19);
        width: rem(9);
        bottom: rem(18);
    }

    .open-menu & {

        span {
            width: 0;
        }

        &::before {
            top: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            left: 50%;
        }

        &::after {
            width: rem(18);
            top: 50%;
            transform: translate(-50%, -50%) rotate(45deg);
            left: 50%;
        }
    }
}

// ------------------------FOOTER-------------------------

.footer {
    font-weight: 500;
    background-color: var(--color-black-06);

    &__body {
        padding-block: fluid(100, 50);
        border-bottom: var(--border);
    }

    &__menu {
        display: grid;
        grid-template-columns: repeat(6, 1fr);
        align-items: start;
        column-gap: fluid(30, 0);

        @include tablet {
            grid-template-columns: repeat(3, 1fr);
            row-gap: rem(40);
        }

        @include mobile {
            grid-template-columns: repeat(2, 1fr);
            row-gap: rem(30);
        }

        &-column {
            display: grid;
            row-gap: fluid(24, 16);
        }

        &-list {
            display: flex;
            flex-direction: column;
            row-gap: fluid(14, 8);
        }

        &-item {
            display: flex;
            align-items: center;
            column-gap: rem(8);
        }

        &-main-link {
            color: var(--color-white);
        }

        &-link {
            @include hover {
                color: var(--color-white);
            }
            @include fluid-text(18, 14);
        }
    }

    &__extra {
        @include fluid-text(18, 14);

        display: flex;
        justify-content: space-between;
        align-items: center;
        column-gap: 1rem;
        padding-block: rem(40);
        
        @include laptop {
            padding-block: rem(24);
        }

        @include mobile {
            flex-direction: column;
            row-gap: rem(20);
        }

        &-menu {
            &-list {
                display: flex;
            }

            &-item {
                @include hover {
                    .footer__extra-menu-link {
                        color: var(--color-accent);
                    }
                    
                }
            }
            &-item:not(:last-child):after {
                content: '|';
                margin-inline: fluid(20, 16);
            }
        }
    }
}

// ------------------------SOCIALS------------------------

.socials {
    &__list {
    display: flex;
    gap: rem(14);
    
    }
    &__item {
        position: relative;
        width: rem(56);
        height: rem(56);
        border-radius: rem(8);
        background-color: var(--color-black-15);
        border: rem(1) solid transparent;
        transition: var(--transition);

        @include laptop {
            width: rem(44);
            height: rem(44);
        }

        @include hover {
            border-color: var(--color-accent);
            & svg path {
                fill: var(--color-accent);
            }
        }
    }
    &__link {
        @include abs-center;
        @include laptop {
            & svg {
                width: rem(20);
                height: rem(20);
            }
        } 
    }
}

// ------------------------BUTTON-------------------------

.button {
    @include flex-center;
    
    font-weight: 600;
    font-size: rem(18);
    padding: rem(16) rem(22);
    color: var(--color-white);
    background-color: var(--color-accent);
    border: rem(1) solid var(--color-accent);
    border-radius: rem(8);
    transition: background-color var(--transition);

    @include laptop {
        width: rem(140);
        height: rem(49);
        font-size: rem(14);
        padding: rem(12) rem(18);
    }

    @include hover {
            background-color: var(--color-black-08);
        }

    &--black {
        @include flex-center;
    
        font-weight: 600;
        font-size: rem(18);
        padding: rem(16) rem(33);
        color: var(--color-white);
        background-color: var(--color-black-08);
        border: var(--border);
        border-radius: rem(8);
        transition: all var(--transition);

        @include laptop {
            width: rem(140);
            height: rem(49);
            font-size: rem(14);
            padding: rem(12) rem(18);
        }

        @include hover {
            border: rem(1) solid var(--color-accent);
        }
    }
}

// ------------------------TAG----------------------------

.tag {
    display: flex;
    align-items: center;
    max-width:max-content;
    font-weight: 500;
    font-size: rem(14);
    padding: rem(6) rem(10);
    background-color: var(--color-accent);
    border-radius: rem(2);
    height: rem(22);
    @include laptop {
        padding: rem(6);
    }
}

// ------------------------SECTION-HEADER-----------------

.section {
    padding-block: fluid(75, 25);

    &__header {
        margin-bottom: fluid(80, 40);

        &-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: rem(20);

            @include tablet {
                flex-wrap: wrap;
            }
        }

        &-btn {
            flex-shrink: 0;
            width: rem(176);
            height: rem(63);

            @include hover {
                background-color: transparent;
            }

            @include laptop {
                width: rem(140);
                height: rem(49);
            }
        }

        &-info {
            max-width: rem(1200);
        }
        
    }
    
    &__title {
        color: var(--color-white);

        &:not(:last-child) {
            margin-bottom: rem(14);

            @include laptop {
                margin-bottom: rem(10);
            }
        }
    }

    &__subtitle {
        @include fluid-text(18, 14);
    }
}

// ------------------------BANNER-------------------------

.banner {
    .section__header-inner {
        position: relative;
        padding: rem(100) rem(80);
        border-radius: rem(8);
        overflow: hidden;

        @include tablet {
            text-align: center;
        }

        @include mobile {
            padding: rem(50) rem(30);
        }

        & img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }
    }

    .button {
        width: rem(188);
        
        @include hover {
            background-color: var(--color-black-08);
        }

        @include tablet {
            margin-inline: auto;
        }
    }

}



.tile {
    padding: fluid(50, 24);
    border: var(--border);
    border-radius: rem(12);
    background-color: var(--color-black-10);

    @include laptop {
        border-radius: rem(10);
    }
}

// ------------------------ACCORDION----------------------

.accordion-group {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    column-gap: rem(80);

    &-seasons {
        display: grid;
        grid-template-columns: 1fr;
        // column-gap: rem(80);
    }
    
    @include tablet {
        grid-template-columns: 1fr;
    }
}

.accordion {

    &-season {
        border: var(--border);
        border-radius: rem(12);
        background-color: var(--color-black-06);
        margin-top: rem(20);
        &:first-child {
            margin-top: fluid(40, 20);
        }

        @include laptop {
            margin-top: rem(16);
            border-radius: rem(10);
        }

        &__details {
            position: relative;
            padding: fluid(32, 26) fluid(100, 64) fluid(32, 26) fluid(50, 20);
            transition: var(--transition);
        
            &[open] {

                & + .accordion-season__content {
                    grid-template-rows: 1fr;
                }

                .accordion-season__title::before {
                    rotate: 90deg;
                }
            }
        }

        &__summary {
            list-style: none;

            @include hover {
                cursor: pointer;
            }

            &::-webkit-details-marker {
                list-style: none;
            }
        }

        &__title {
            position: relative;
            font-weight: 500;
            color: var(--color-white);
            transition: var(--transition);
            
            &::before {
                content: url(../../icons/arrow.svg);
                position: absolute;
                top: 50%;
                right: rem(-25);
                width: rem(52);
                height: rem(52);
                background-color: var(--color-black-08);
                border: var(--border);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                translate: 50% -50%;
                rotate: -90deg;
                transition: var(--transition);

                @include laptop {
                    width: rem(44);
                    height: rem(44);
                }
            }           
        }

        &__content {
            display: grid;
            grid-template-rows: 0fr;
            transition: var(--transition);

            &-inner {
                overflow: hidden;
            }
        }
        
        .season-list {
            counter-reset: my-counter;

            @include mobile {
                display: flex;
                flex-direction: column;
                row-gap: rem(20);
            }
            
        }
        .season-item {
            counter-increment: my-counter; /* Увеличиваем счетчик */
            
            padding-left: 30px;
            padding-inline: rem(50);
            @include mobile {
                padding-inline: rem(20);
            }
            
            &__inner {
                position: relative;
                display: flex;
                align-items: center;
                
                padding-block: rem(40);
                padding-left: rem(80);
                border-top: var(--border);
                &::before {
                    content: counter(my-counter);
                    position: absolute;
                    left: 0;
                    color: var(--color-gray-60);
                    font-weight: 600;
                    font-size: rem(30);
                }
                &:nth-child(-n+9)::before {
                    content: "0" counter(my-counter);
                }

                @include laptop {
                    padding-block: rem(30);
                    padding-left: rem(48);
                    &::before {
                        font-size: rem(24);
                    }
                }

                @include mobile {
                    flex-wrap: wrap;
                    row-gap: rem(18);
                    padding: rem(20);
                    border-top: none;
                    border-radius: rem(8);
                    background-color: var(--color-black-08);
                    &::before {
                        top: 30%;
                        right: rem(20);
                        left: auto;
                    }
                }
            }
            &__img {
                flex-shrink: 0;
                position: relative;
                width: rem(172);
                height: rem(118);
                margin-right: rem(20);
                border: var(--border);
                border-radius: rem(12);
                overflow: hidden;
                

                & img {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    object-fit: cover;
                }
            }
           
            &__head {
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: rem(10);
                margin-bottom: rem(14);

                @include mobile {
                    flex-wrap: wrap-reverse;
                    margin-bottom: 0;
                }
            }
            
            &__time {
                display: flex;
                flex-shrink: 0;
                align-items: center;
                column-gap: rem(4);
                font-size: rem(16);
                background-color: var(--color-black-08);
                border: var(--border);
                border-radius: rem(8);
                padding: rem(8) rem(10);

                @include laptop {
                    padding: rem(6);
                }
            }
            &__desc {
                @include laptop {
                    font-size: rem(16);
                }

                @include mobile {
                    display: none;
                }
            }
        }
        .min {
            font-weight: 500;
            font-size: rem(18);
            color: var(--color-gray-60);
            margin-left: rem(10);
        }
    }

    &__details {
        position: relative;
        padding: rem(47) fluid(84, 50) rem(47) fluid(116, 70);
        transition: var(--transition);
    
        @include laptop {
            padding-block: rem(40);
        }

        &::before {
            content: '01';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: fluid(34, 10);
            padding: fluid(20, 12);
            font-weight: 600;
            font-size: rem(20);
            color: var(--color-white);
            background-color: var(--color-black-12);
            border: var(--border);
            border-radius: fluid(10, 6);

            @include laptop {
                font-size: rem(16);
            }
        }

        &[open] {
            border: rem(1) solid var(--color-hard-primary);
            
            .accordion__title {
                &::before {
                    rotate: 0deg;
                }
            }

            & + .accordion__content {
                grid-template-rows: 1fr;
            }
        }
    }

    &__summary {
        color: var(--color-gray-900);
        list-style: none;

        @include hover {
            color: var(--color-hard-primary);
            cursor: pointer;
        }

        &::-webkit-details-marker {
            list-style: none;
        }
    }

    &__title {
        position: relative;
        font-weight: 500;
        color: var(--color-white);
        transition: var(--transition);

        &::after,
        &::before {
            content: '';
            position: absolute;
            top: 50%;
            right: rem(-34);
            width: rem(20);
            height: rem(2.5);
            background-color: var(--color-white);
            border-radius: rem(5);
            transition: var(--transition);
        }
        &::before {
            translate: 50% -50%;
            right: rem(-24);
            rotate: 90deg;
        }
        &::after {
            transform: translateY(-50%);
        }
    }

    &__content {
        display: grid;
        grid-template-rows: 0fr;
        border-bottom: rem(1) solid var(--color-accent);
        transition: var(--transition);

        &-inner {
            overflow: hidden;
        }

        &-body {
            @include fluid-text(18, 14);

            padding: 0 fluid(84, 0) rem(34) fluid(116, 0);
        }
    }
}

// ------------------------SLIDER-------------------------

.slider__arrow {
    width: rem(56);
    height: rem(56);
    padding: rem(14);
    border: var(--border);
    border-radius: rem(8);
    background-color: var(--color-black-10);

    &-round {
        width: rem(52);
        height: rem(52);
        padding: rem(14);
        border: var(--border);
        border-radius: 50%;
        background-color: var(--color-black-08);
        @include hover {
            & svg path {
                stroke: var(--color-accent);
            }
        }
        &--right {
            rotate: 180deg;
        }
    }

    @include hover {
        & svg path {
            stroke: var(--color-accent);
        }
    }

    @include mobile {
       display: none;
    }

    &--right {
        rotate: 180deg;
    }
}


// ------------------------FORM---------------------------

.feedback-form {
    display: grid;
    gap: fluid(50, 20) rem(50);
    border: var(--border);
    border-radius: rem(12);
    background-color: var(--color-black-06);
    padding: rem(50);

    @include mobile {
        padding-inline: rem(10);
    }

    @include mobile-above {
        grid-template-columns: repeat(2, 1fr);
    }

    &__cell {
        &--wide {
            grid-column: -1 / 1;
        }
    }

    &__actions {
        display: flex;
        justify-content: space-between;
        align-items: center;
        column-gap: 1rem;

        @include mobile {
            flex-direction: column;
            align-items: stretch;
            row-gap: rem(20);
        }
    }

    &__submit-button {
        min-width: rem(137);

        @include laptop {
            min-width: rem(103);
        }

        @include mobile {
            width: 100%;
        }
    }
}

.field {
    display: flex;
    flex-direction: column;
    align-items: start;
    row-gap: rem(16);
    font-size: rem(18);
    font-weight: 500;

    @include laptop {
        row-gap: rem(12);
        font-size: rem(16);
    }

    &__body {
        display: flex;
        column-gap: rem(16);
        width: 100%;

        @include laptop {
            column-gap: rem(12);
        }
    }

    &__required-star {
        color: var(--color-accent);
    }

    &__control {
        width: 100%;
        height: rem(67);
        padding-inline: rem(20);
        background-color: var(--color-black-08);
        border: var(--border);
        border-radius: rem(8);

        @include laptop {
            height: rem(53);
            padding-inline: rem(16);
            border-radius: rem(6);
        }

        &::placeholder {
            color: var(--color-gray-60);
        }
    }

    textarea.field__control {
        resize: vertical;
        min-height: rem(163);
        padding-block: rem(20);

        @include laptop {
            padding-block: rem(16);
        }

        @include mobile {
            min-height: rem(109);
        }
    }
}

.select {

    &__original-control {
        min-width: rem(100);
        @include mobile-above {
            @include visually-hidden;
        }
    }

    &__body {
        position: relative;

        @include mobile {
            @include visually-hidden;
        }
    }

    &__button,
    &__option {
        user-select: none;
        cursor: pointer;

        * {
            pointer-events: none;
        }
    }

    &__button {
        display: flex;
        justify-content: space-between;
        align-items: center;
        column-gap: rem(6);
        transition: var(--transition);

        @include laptop {
            column-gap: rem(4);
        }
    }

    &__dropdown {
        position: absolute;
        top: calc(100% + #{rem(4)});
        display: grid;
        row-gap: rem(4);
        min-width: rem(150);
        max-width: rem(300);
        max-height: rem(250);
        overflow-y: auto;
        padding: rem(4);
        border: var(--border);
        border-radius: rem(6);
        transition: var(--transition);

        &.is-on-the-left-side {
            left: 0;
            transform-origin: 0 0;
        }

        &.is-on-the-right-side {
            right: 0;
            transform-origin: 100% 0;
        }

        &:not(.is-expanded) {
            @include hide;

            scale: 0;
        }
    }

    &__option {
        display: flex;
        justify-content: space-between;
        align-items: center;
        column-gap: rem(10);
        padding: rem(10);
        border: var(--border);
        border-radius: inherit;

        @include hover {
            color: var(--color-accent);
            background-color: var(--color-dark);
        }

        &.is-selected {
            color: var(--color-accent);

            &::after {
                content: '✔';
            }
        }

        &.is-current {
            border-color: var(--color-accent);
        }
    }
}

.checkbox {
    display: inline-flex;
    align-items: center;
    column-gap: rem(10);
    color: var(--color-gray-60);

    @include laptop {
        column-gap: rem(6);
    }

    @include hover {
        color: var(--color-accent);

        .checkbox__input {
            border-color: var(--color-accent);
        }
    }

    &__input {
        --size: #{rem(28)};

        @include square(var(--size));
        @include flex-center;

        appearance: none;
        margin: 0;
        border: var(--border);
        border-radius: rem(4);
        background-color: var(--color-black-06);

        @include laptop {
            --size: #{rem(24)};
        }

        &:not(:checked) {
            &::after {
                @include hide;
            }
        }

        &::after {
            content: '✔';
            color: var(--color-gray-60);
            transition: var(--transition);
        }
    }
}